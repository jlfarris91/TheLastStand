package LootableSurvivorReward
import LootableReward
import UnitMetadata
import GameConstants
import TlsUnitIds
import FX
import Orders
import LootableUnit

// ============================================================================
public class LootableSurvivorReward implements ILootableReward

  // --------------------------------------------------------------------------
  override function giveReward(LootableUnit lootable, IUnitMetadata looter)
    spawnSurvivor(lootable, looter)

  // --------------------------------------------------------------------------
  function spawnSurvivor(LootableUnit lootable, IUnitMetadata looter)
    let survivor = createUnitTLS(
      PLAYER_VILLAGERS,
      TlsUnitIds.survivorMale,
      lootable.getX(),
      lootable.getY(),
      GetRandomDirectionDeg())
    survivor.issuePointOrderById(OrderIds.move, looter.getPos())
    FX.createFoundSurvivorTag(lootable.getPos(), lootable.getOwner())
    