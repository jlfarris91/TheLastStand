package FrameTest

function createButton()
  let mainButton = BlzCreateFrame("ScriptDialogButton", BlzGetOriginFrame(ORIGIN_FRAME_GAME_UI, 0), 0, 0)
  let buttonText = BlzGetFrameByName("ScriptDialogButtonText",0)  //Get The buttons textChild
  BlzFrameSetSize(mainButton, 0.12, 0.05)
  BlzFrameSetAbsPoint(mainButton, FRAMEPOINT_CENTER, 0.3,0.3)
  BlzFrameSetText(buttonText, "My Button Text")

  let t = CreateTrigger()
  t.addAction(function buttonCallback)
  BlzTriggerRegisterFrameEvent(t, mainButton, FRAMEEVENT_CONTROL_CLICK)

function buttonCallback()
  Log.info(GetPlayerName(GetTriggerPlayer()) + " pressed: "+ BlzFrameGetText(BlzGetTriggerFrame()))

init
  boolean loadingResult = BlzLoadTOCFile("MyFiles.toc")
  if loadingResult == false
    BJDebugMsg("SOMETHING WENT WRONG WITH myFiles.toc")
  else
    BJDebugMsg("MyFiles.toc is loaded (files that it points to)")

  //createButton()