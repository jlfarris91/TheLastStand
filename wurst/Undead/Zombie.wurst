package Zombie
import GameConstants
import Math
import UndeadUnit
import InfectedComponent
import TlsUnitIds
import IncreaseAcquisitionRangeWhileStillComponent

// ============================================================================
public class Zombie extends UndeadUnit
  private real m_matsDropChance

  // --------------------------------------------------------------------------
  construct()
    super()
    m_matsDropChance = ZOMBIES_MATERIALS_DROP_CHANCE

    if (passesChanceCheck(ZOMBIES_INFECTED_CHANCE))
      this.getOrAddInfectedComponent()

    this.getOrAddIncreaseAcquisitionRangeWhileStillComponent()

// ============================================================================
public function isFilterUnitAZombie() returns bool
  let u = GetFilterUnit()
  return u.isZombie() and u.isAlive()

// ============================================================================
public function unit.isZombie() returns bool
  return this.getTypeId().isZombie()

// ============================================================================
public function int.isZombie() returns bool
  return this == TlsUnitIds.Undead.zombieMale or
         this == TlsUnitIds.Undead.zombieFemale

// ============================================================================
public function unit.isMaleZombie() returns bool
  return this.getTypeId() == TlsUnitIds.Undead.zombieMale

// ============================================================================
public function unit.isFemaleZombie() returns bool
  return this.getTypeId() == TlsUnitIds.Undead.zombieFemale