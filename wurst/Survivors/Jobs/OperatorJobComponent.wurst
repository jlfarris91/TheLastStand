package OperatorJobComponent
import SurvivorJobComponent
import UnitMetadata
import SurvivorJobs

// ============================================================================
public class OperatorJobComponent extends SurvivorJobComponent
  
  // --------------------------------------------------------------------------
  construct(IUnitMetadata owner)
    super(owner)

  // --------------------------------------------------------------------------
  override function getJob() returns SurvivorJobDefinition
    return SurvivorJobs.operator

// ============================================================================
public function IUnitMetadata.getOperatorJobComponent() returns OperatorJobComponent
  return this.getComponent(OperatorJobComponent.typeId) castTo OperatorJobComponent

// ============================================================================
public function IUnitMetadata.getOrAddOperatorJobComponent() returns OperatorJobComponent
  var component = this.getOperatorJobComponent()
  if (component == null)
    component = this.addComponent(new OperatorJobComponent(this), false) castTo OperatorJobComponent
  return component

// ============================================================================
init
  SurvivorJobComponent.registerSurvivorJobComponentGetter(SurvivorJobs.operator, metadata -> metadata.getOperatorJobComponent())
  SurvivorJobComponent.registerSurvivorJobComponentFactory(SurvivorJobs.operator, metadata -> metadata.getOrAddOperatorJobComponent())