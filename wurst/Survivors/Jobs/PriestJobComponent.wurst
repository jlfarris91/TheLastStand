package PriestJobComponent
import SurvivorJobComponent
import UnitMetadata
import SurvivorJobs

// ============================================================================
public class PriestJobComponent extends SurvivorJobComponent
  
  // --------------------------------------------------------------------------
  construct(IUnitMetadata owner)
    super(owner)

  // --------------------------------------------------------------------------
  override function getJobDefinition() returns SurvivorJobDefinition
    return SurvivorJobs.priest

  // --------------------------------------------------------------------------
  protected override function onEnabled()
    super.onEnabled()

// ============================================================================
public function IUnitMetadata.getPriestJobComponent() returns PriestJobComponent
  return this.getComponent(PriestJobComponent.typeId) castTo PriestJobComponent

// ============================================================================
public function IUnitMetadata.getOrAddPriestJobComponent() returns PriestJobComponent
  var component = this.getPriestJobComponent()
  if (component == null)
    component = this.addComponent(new PriestJobComponent(this), false) castTo PriestJobComponent
  return component

// ============================================================================
init
  SurvivorJobComponent.registerSurvivorJobComponentGetter(SurvivorJobType.Priest, PriestJobComponent.typeId)
  SurvivorJobComponent.registerSurvivorJobComponentFactory(SurvivorJobType.Priest, metadata -> metadata.getOrAddPriestJobComponent())