package Hero
import Camp
import Skills
import SkillsComponent
import StaminaComponent
import Backpack
import HumanPlayerMetadata

// ============================================================================
public class Hero extends CampUnit
  private SkillsComponent _skills

  // --------------------------------------------------------------------------
  construct(ICamp camp)
    super(camp)

    addComponent(new StaminaComponent(this))
    addComponent(new BackpackComponent(this, new BackpackInventory()))

    _skills = new SkillsComponent(this)
    _skills.addSkill(Skills.sprint.createInstance(this))
    addComponent(_skills)

  // --------------------------------------------------------------------------
  override function onUnitChanged(unit oldUnit, unit newUnit)
    super.onUnitChanged(oldUnit, newUnit)

    if (oldUnit != null)
      oldUnit.getOwnerHumanMetadata().setHero(null)

    if (newUnit != null)
      newUnit.getOwnerHumanMetadata().setHero(this)