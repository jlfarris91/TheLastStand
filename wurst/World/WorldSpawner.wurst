package WorldSpawner
import Time
import Spawning
import Transform
import Vector

// ============================================================================
public class WorldSpawner

// ============================================================================
class WorldSpawnObject extends Transform

  // --------------------------------------------------------------------------
  protected function spawnOne()

// ============================================================================
class TraderSpawnObject extends WorldSpawnObject
  


// ============================================================================
class WorldSpawnRequest extends SpawnRequestBase
  private string m_name
  private Vector<WorldSpawnObject> m_objects
  private int m_index = 0

  // --------------------------------------------------------------------------
  construct(string name, Vector<WorldSpawnObject> objects)
    super(30.0)
    m_name = name
    m_objects = objects

  // --------------------------------------------------------------------------
  override function hasNext() returns bool
    return m_index < m_objects.size()

  // --------------------------------------------------------------------------
  override function next() returns int
    let obj = m_objects.get(m_index)
    if (obj != null)
      obj.spawnOne()
      return 1
    return 0

  // --------------------------------------------------------------------------
  override function getDebuggerStateString() returns string
    return "WSR " + m_name + " " + m_index.toString() + "/" + m_objects.size().toString()

// ============================================================================
function onDayStart()

// ============================================================================
function onNightStart()

// ============================================================================
init

  registerDayEvent(function onDayStart)
  registerNightEvent(function onNightStart)