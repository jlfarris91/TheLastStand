package Ability_MilitiaStance
import AbilityObjEditing
import TlsAbilityIds

// ============================================================================
@compiletime function createAbility()
  new AbilityDefinitionDefend(TlsAbilityIds.militiaStance)
  ..setName("Attack Stance")
  ..setButtonPositionNormalX(1)
  ..setButtonPositionNormalY(1)
  ..setButtonPositionTurnOffX(1)
  ..setButtonPositionTurnOffY(1)
  ..setAttackSpeedFactor(1, 0.0)
  ..setChancetoDeflect(1, 30.0)
  ..setDamageDealt(1, 1.0)
  ..setDamageTaken(1, 0.5)
  ..setDeflectDamageTakenPiercing(1, 0.0)
  ..setDeflectDamageTakenSpells(1, 0.5)
  ..setMagicDamageReduction(1, 1.0)
  ..setMovementSpeedFactor(1, 0.3)
  ..setTooltipNormal(1, "Switch to Melee Stance")
  ..setTooltipNormalExtended(1, "Switch the Militia's attack stance to Melee to prefer attacking enemies close range. While in Melee stance the Militia has a 30% chance to reflect Piercing attacks upon the source, and to take only 50% of the damage from attacks that are not reflected. However, move speed is reduced by 30%.")
  ..setTooltipTurnOff(1, "Switch to Ranged Stance")
  ..setTooltipTurnOffExtended(1, "Switch the Militia's attack stance to Ranged to prefer attacking units from a short distance. Move speed lost while in the Melee stance is regained.")
  ..setRequirements("")