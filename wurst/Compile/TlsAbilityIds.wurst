package TlsAbilityIds
import ObjectIdGenerator
import HashList
import AbilityIds
import HeroAbilities

public HashList<int> g_applyJobItemAbilityIds

// ============================================================================
public abstract class TlsAbilityIds
  static constant int requestOpenGate = compiletime(ABIL_ID_GEN.next())
  static constant int recycle = compiletime(ABIL_ID_GEN.next())
  static constant int recycleBroken = compiletime(ABIL_ID_GEN.next())
  static constant int restore = compiletime(ABIL_ID_GEN.next())
  static constant int undeadInventory = compiletime(ABIL_ID_GEN.next())
  static constant int banish = compiletime(ABIL_ID_GEN.next())

  static constant int survivorActions = compiletime(ABIL_ID_GEN.next())
  static constant int survivorToggleJob = compiletime(ABIL_ID_GEN.next())
  static constant int survivorNoJob = compiletime(ABIL_ID_GEN.next())

  static constant int inventory1Slot = compiletime(ABIL_ID_GEN.next())
  static constant int inventory2Slots = compiletime(ABIL_ID_GEN.next())
  static constant int inventory3Slots = compiletime(ABIL_ID_GEN.next())
  static constant int inventory4Slots = compiletime(ABIL_ID_GEN.next())
  static constant int inventory5Slots = compiletime(ABIL_ID_GEN.next())
  static constant int inventory6Slots = compiletime(ABIL_ID_GEN.next())

  static constant int blightDispelSmall = AbilityIds.blightDispelSmall
  static constant int buildingInventory = compiletime(ABIL_ID_GEN.next())

  static constant int basicRepair = compiletime(ABIL_ID_GEN.next())
  static constant int tinkererRepair = compiletime(ABIL_ID_GEN.next())
  
  static constant int swordsmanBlink = compiletime(ABIL_ID_GEN.next())

  static constant int shelter1CargoHold = compiletime(ABIL_ID_GEN.next())
  static constant int shelter2CargoHold = compiletime(ABIL_ID_GEN.next())
  static constant int shelter3CargoHold = compiletime(ABIL_ID_GEN.next())
  static constant int tentLoad = AbilityIds.load
  static constant int tentUnload = AbilityIds.unload

  static constant int workstationLoadUnit = compiletime(ABIL_ID_GEN.next())
  static constant int workstationUnloadUnit = compiletime(ABIL_ID_GEN.next())

  static constant int tunnelEntrance_cargoHoldBuilder = compiletime(ABIL_ID_GEN.next())
  static constant int tunnelEntrance_loadBuilder = compiletime(ABIL_ID_GEN.next())
  static constant int tunnelEntrance_digTunnel = compiletime(ABIL_ID_GEN.next())
  static constant int tunnelEntrance_loadSmartMoveUnit = compiletime(ABIL_ID_GEN.next())
  
  static constant int campFireRestoreHealth = compiletime(ABIL_ID_GEN.next())
  static constant int campFireRestoreMana = compiletime(ABIL_ID_GEN.next())
  static constant int campFire2RestoreHealth = compiletime(ABIL_ID_GEN.next())
  static constant int campFire2RestoreMana = compiletime(ABIL_ID_GEN.next())

  static constant int rescueSurvivorHero = compiletime(ABIL_ID_GEN.next()) // A01H
  static constant int rescueSurvivorHero_heroAction = compiletime(ABIL_ID_GEN.next()) // A01H
  static constant int rescueSurvivorUnit = compiletime(ABIL_ID_GEN.next())
  static constant int search = compiletime(ABIL_ID_GEN.next())
  static constant int search_heroAction = compiletime(ABIL_ID_GEN.next())
  static constant int openCloseBackpack = compiletime(ABIL_ID_GEN.next())

  static constant int infectedWound = compiletime(ABIL_ID_GEN.next())
  static constant int grabMutant = compiletime(ABIL_ID_GEN.next())
  static constant int enemiesNearby = compiletime(ABIL_ID_GEN.next())
  
  static constant int abomGrabZombie = compiletime(ABIL_ID_GEN.next())
  static constant int abomThrowZombie = compiletime(ABIL_ID_GEN.next())

  static constant int necromancerRaiseDead = compiletime(ABIL_ID_GEN.next())

  static constant int cryptFiendBurrow = compiletime(ABIL_ID_GEN.next())

  static constant int spikeSlowAura = compiletime(ABIL_ID_GEN.next())
  static constant int spikeBarrage = compiletime(ABIL_ID_GEN.next())
  static constant int spikeEnabledIcon = compiletime(ABIL_ID_GEN.next())
  static constant int spikeDisabledIcon = compiletime(ABIL_ID_GEN.next())

  static constant int scoutTowerMarkTargets = compiletime(ABIL_ID_GEN.next())

  static constant int altarRevive = compiletime(ABIL_ID_GEN.next())
  static constant int altarReviveDisabledIcon = compiletime(ABIL_ID_GEN.next())

  static constant int diseaseCloud = compiletime(ABIL_ID_GEN.next())
  static constant int drainLife = compiletime(ABIL_ID_GEN.next())
  static constant int curse = compiletime(ABIL_ID_GEN.next())

  static constant int tombstoneSummon = compiletime(ABIL_ID_GEN.next())
  static constant int phoenixMorphing = compiletime(ABIL_ID_GEN.next())
  static constant int spawnTentacles = compiletime(ABIL_ID_GEN.next())
  
  static constant int buildHeadquarters1 = compiletime(ABIL_ID_GEN.next())
  static constant int buildHeadquarters2 = compiletime(ABIL_ID_GEN.next())
  static constant int buildHeadquarters3 = compiletime(ABIL_ID_GEN.next())

  // Archimonde
  static constant int darkPortal = compiletime(ABIL_ID_GEN.next())
  static constant int rainOfChaos = compiletime(ABIL_ID_GEN.next())
  static constant int inferno = compiletime(ABIL_ID_GEN.next())

  static constant int harvest = compiletime(ABIL_ID_GEN.next())
  static constant int fellTree = compiletime(ABIL_ID_GEN.next())
  
  static constant int builderRepair = compiletime(ABIL_ID_GEN.next())
  static constant int builderImpactBracing = compiletime(ABIL_ID_GEN.next())
  static constant int builderThornsAura = compiletime(ABIL_ID_GEN.next())

  static constant int militiaTaunt = compiletime(ABIL_ID_GEN.next())
  static constant int militiaDefend = compiletime(ABIL_ID_GEN.next())
  static constant int militiaParry = compiletime(ABIL_ID_GEN.next())
  static constant int militiaCleave = compiletime(ABIL_ID_GEN.next())
  
  static constant int marksmanCriticalStrike = compiletime(ABIL_ID_GEN.next())
  static constant int marksmanStun = compiletime(ABIL_ID_GEN.next())
  static constant int marksmanStimshot = compiletime(ABIL_ID_GEN.next())

  static constant int frostAttack = compiletime(ABIL_ID_GEN.next())
  static constant int fireAttack = compiletime(ABIL_ID_GEN.next())
  static constant int lightningAttack = compiletime(ABIL_ID_GEN.next())
  static constant int learnFrostAttack = compiletime(ABIL_ID_GEN.next())
  static constant int learnFireAttack = compiletime(ABIL_ID_GEN.next())
  static constant int learnLightningAttack = compiletime(ABIL_ID_GEN.next())
  static constant int spearmanUpgrade1 = compiletime(ABIL_ID_GEN.next())
  static constant int spearmanUpgrade1Icon = compiletime(ABIL_ID_GEN.next())
  static constant int spearmanUpgrade2 = compiletime(ABIL_ID_GEN.next())
  static constant int spearmanUpgrade2Icon = compiletime(ABIL_ID_GEN.next())
  
  static constant int spearmanEnsnare = compiletime(ABIL_ID_GEN.next())
  static constant int spearmanEnvenomedSpears = compiletime(ABIL_ID_GEN.next())
  static constant int spearmanHawkeye = compiletime(ABIL_ID_GEN.next())
  
  static constant int priestHeal = compiletime(ABIL_ID_GEN.next())
  static constant int priestSlow = compiletime(ABIL_ID_GEN.next())
  static constant int priestInnerFire = compiletime(ABIL_ID_GEN.next())

  // Item abilities
  static constant int bandagesHeal = compiletime(ABIL_ID_GEN.next())
  static constant int cheeseHeal = compiletime(ABIL_ID_GEN.next())
  static constant int cookedMeatHeal = compiletime(ABIL_ID_GEN.next())
  static constant int buildPortableBarricade = compiletime(ABIL_ID_GEN.next())
  static constant int buildShelter = compiletime(ABIL_ID_GEN.next())
  static constant int buildPortableTurret = compiletime(ABIL_ID_GEN.next())
  static constant int buildCampFire = compiletime(ABIL_ID_GEN.next())
  static constant int throwGrenade = compiletime(ABIL_ID_GEN.next())

  // Job Item Abilities
  static constant int equipJobItem_Builder = compiletime(ABIL_ID_GEN.next())
  static constant int equipJobItem_Militia = compiletime(ABIL_ID_GEN.next())
  static constant int equipJobItem_Spearman = compiletime(ABIL_ID_GEN.next())
  static constant int equipJobItem_Marksman = compiletime(ABIL_ID_GEN.next())
  static constant int equipJobItem_Priest = compiletime(ABIL_ID_GEN.next())
  static constant int equipJobItem_Engineer = compiletime(ABIL_ID_GEN.next())
  static constant int equipJobItem_Acolyte = compiletime(ABIL_ID_GEN.next())

  static constant int heroActions = compiletime(ABIL_ID_GEN.next())

  // --------------------------------------------------------------------------
  public static class Items
    static constant int speed1 = compiletime(ABIL_ID_GEN.next())
    static constant int armor1 = compiletime(ABIL_ID_GEN.next())
    static constant int armor2 = compiletime(ABIL_ID_GEN.next())
    static constant int armor3 = compiletime(ABIL_ID_GEN.next())
    static constant int attackSpeed1 = compiletime(ABIL_ID_GEN.next())
    static constant int attackSpeed2 = compiletime(ABIL_ID_GEN.next())
    static constant int attackSpeed3 = compiletime(ABIL_ID_GEN.next())
    static constant int attackDamage1 = compiletime(ABIL_ID_GEN.next())
    static constant int attackDamage2 = compiletime(ABIL_ID_GEN.next())
    static constant int attackDamage3 = compiletime(ABIL_ID_GEN.next())
    static constant int attackDamage4 = compiletime(ABIL_ID_GEN.next())
    static constant int chainLightning1 = compiletime(ABIL_ID_GEN.next())
    static constant int enduranceAura1 = compiletime(ABIL_ID_GEN.next())
    static constant int scrollOfTownPortal1 = compiletime(ABIL_ID_GEN.next())
    static constant int manaPotion1 = compiletime(ABIL_ID_GEN.next())
    static constant int manaPotion2 = compiletime(ABIL_ID_GEN.next())
    static constant int manaPotion3 = compiletime(ABIL_ID_GEN.next())
    static constant int bloodRedCape_BuffOnly = compiletime(ABIL_ID_GEN.next())
    static constant int lightningRodChainLighting = compiletime(ABIL_ID_GEN.next())

  // --------------------------------------------------------------------------
  public static class Hero

    //
    // Ranger
    //

    // Q
    static constant int procurist = compiletime(ABIL_ID_GEN.next())
    static constant int procurist_learn = compiletime(ABIL_ID_GEN.next())

    // W
    static constant int sprint = compiletime(ABIL_ID_GEN.next())
    static constant int sprint_learn = compiletime(ABIL_ID_GEN.next())

    // E
    static constant int smokeGrenade = compiletime(ABIL_ID_GEN.next())
    static constant int smokeGrenade_learn = compiletime(ABIL_ID_GEN.next())

    // R
    static constant int lineshot = compiletime(ABIL_ID_GEN.next())
    static constant int lineshot_learn = compiletime(ABIL_ID_GEN.next())

    //
    // Mountaineer
    //

    // Q
    static constant int outdoorsman = compiletime(ABIL_ID_GEN.next())
    static constant int outdoorsman_learn = compiletime(ABIL_ID_GEN.next())

    // W
    static constant int bearTrap = compiletime(ABIL_ID_GEN.next())
    static constant int bearTrap_learn = compiletime(ABIL_ID_GEN.next())

    // E
    static constant int mountaineerE = compiletime(ABIL_ID_GEN.next())
    static constant int mountaineerE_learn = compiletime(ABIL_ID_GEN.next())

    // R
    static constant int blundershot = compiletime(ABIL_ID_GEN.next())
    static constant int blundershot_learn = compiletime(ABIL_ID_GEN.next())

    //
    // Swordsman
    //

    // Q
    static constant int cleave = compiletime(ABIL_ID_GEN.next())
    static constant int cleave_learn = compiletime(ABIL_ID_GEN.next())

    // W
    static constant int taunt = compiletime(ABIL_ID_GEN.next())
    static constant int taunt_learn = compiletime(ABIL_ID_GEN.next())

    // E
    static constant int holyLight = compiletime(ABIL_ID_GEN.next())
    static constant int holyLight_learn = compiletime(ABIL_ID_GEN.next())

    // R
    static constant int shockwave = compiletime(ABIL_ID_GEN.next())
    static constant int shockwave_learn = compiletime(ABIL_ID_GEN.next())

    //
    // Tinkerer
    //

    // Q
    static constant int structureArmorAura = compiletime(ABIL_ID_GEN.next())
    static constant int structureArmorAura_learn = compiletime(ABIL_ID_GEN.next())

    // W
    static constant int instantRepair = compiletime(ABIL_ID_GEN.next())
    static constant int instantRepair_learn = compiletime(ABIL_ID_GEN.next())

    // E
    static constant int operatorBoost = compiletime(ABIL_ID_GEN.next())
    static constant int operatorBoost_learn = compiletime(ABIL_ID_GEN.next())

    // R
    static constant int rocketBarrage = compiletime(ABIL_ID_GEN.next())
    static constant int rocketBarrage_learn = compiletime(ABIL_ID_GEN.next())

  // --------------------------------------------------------------------------
  static constant int selectHero = compiletime(ABIL_ID_GEN.next())
  static constant int selectHero_ranger = compiletime(ABIL_ID_GEN.next())
  static constant int selectHero_mountaineer = compiletime(ABIL_ID_GEN.next())
  static constant int selectHero_soldier = compiletime(ABIL_ID_GEN.next())
  static constant int selectHero_tinkerer = compiletime(ABIL_ID_GEN.next())

// ============================================================================
public function isApplyJobItemAbilityId(int abilId) returns bool
  return g_applyJobItemAbilityIds.has(abilId)

bool g_heroAbilitiesInitialized = false

// ============================================================================
public function setupHeroAbilities()
  if (g_heroAbilitiesInitialized)
    return 
  g_heroAbilitiesInitialized = true

  // Ranger
  // Q
  HeroAbilities.ranger.setHeroAbilityGroup(TlsAbilityIds.Hero.procurist_learn, HeroAbilityGroup.Q, true)
  HeroAbilities.ranger.setHeroAbilityGroup(TlsAbilityIds.Hero.sprint_learn, HeroAbilityGroup.W, true)
  HeroAbilities.ranger.setHeroAbilityGroup(TlsAbilityIds.Hero.smokeGrenade_learn, HeroAbilityGroup.E, true)
  HeroAbilities.ranger.setHeroAbilityGroup(TlsAbilityIds.Hero.lineshot_learn, HeroAbilityGroup.R, true)

  // Mountaineer
  HeroAbilities.mountaineer.setHeroAbilityGroup(TlsAbilityIds.Hero.outdoorsman_learn, HeroAbilityGroup.Q, true)
  HeroAbilities.mountaineer.setHeroAbilityGroup(TlsAbilityIds.Hero.sprint_learn, HeroAbilityGroup.W, true)
  HeroAbilities.mountaineer.setHeroAbilityGroup(TlsAbilityIds.Hero.bearTrap_learn, HeroAbilityGroup.E, true)
  HeroAbilities.mountaineer.setHeroAbilityGroup(TlsAbilityIds.Hero.blundershot_learn, HeroAbilityGroup.R, true)

  // Swordsman
  HeroAbilities.swordsman.setHeroAbilityGroup(TlsAbilityIds.Hero.cleave_learn, HeroAbilityGroup.Q, true)
  HeroAbilities.swordsman.setHeroAbilityGroup(TlsAbilityIds.Hero.taunt_learn, HeroAbilityGroup.W, true)
  HeroAbilities.swordsman.setHeroAbilityGroup(TlsAbilityIds.Hero.holyLight_learn, HeroAbilityGroup.E, true)
  HeroAbilities.swordsman.setHeroAbilityGroup(TlsAbilityIds.Hero.shockwave_learn, HeroAbilityGroup.R, true)

  // Tinkerer
  HeroAbilities.tinkerer.setHeroAbilityGroup(TlsAbilityIds.Hero.structureArmorAura_learn, HeroAbilityGroup.Q, true)
  HeroAbilities.tinkerer.setHeroAbilityGroup(TlsAbilityIds.Hero.instantRepair_learn, HeroAbilityGroup.W, true)
  HeroAbilities.tinkerer.setHeroAbilityGroup(TlsAbilityIds.Hero.operatorBoost_learn, HeroAbilityGroup.E, true)
  HeroAbilities.tinkerer.setHeroAbilityGroup(TlsAbilityIds.Hero.rocketBarrage_learn, HeroAbilityGroup.R, true)

// ============================================================================
init
  g_applyJobItemAbilityIds = new HashList<int>()
  ..add(TlsAbilityIds.equipJobItem_Builder)
  ..add(TlsAbilityIds.equipJobItem_Militia)
  ..add(TlsAbilityIds.equipJobItem_Spearman)
  ..add(TlsAbilityIds.equipJobItem_Marksman)
  ..add(TlsAbilityIds.equipJobItem_Priest)

  setupHeroAbilities()