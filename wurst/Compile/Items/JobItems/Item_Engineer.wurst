package Item_Engineer
import JobItemDefinition
import Ability_BaseApplyJobItem
import JobItemTooltipBuilder
import Unit_SurvivorMale
import Icons
import TlsJobItemIds
import ItemBuildUnitDefinition
import TlsUnitIds
import BuildItems
import Unit_Engineer
import GameConstants

public JobItemDefinition g_engineerJobItemDefinition

// ============================================================================
@compiletime function createObjectDefinitions()

  new BaseApplyJobItemAbilityDefinition(TlsAbilityIds.equipJobItem_Engineer)

  let description = "Consists of a leather apron and a swathe of complicated tools required to construct intricate architecture and advanced machinery."
  
  let engineer = JobItemTooltipBuilder.createDefault(
    g_survivorDefinition,
    g_engineerDefinition,
    description)

  g_engineerJobItemDefinition = new JobItemDefinition(TlsJobItemIds.engineer, TlsAbilityIds.equipJobItem_Builder)
  ..setName("Engineer's Equipment")
  ..setTooltipBasic("Engineer's Equipment")
  ..setDescription(engineer.getDescription())
  ..setTooltipExtended(engineer.getTooltipExtended())
  ..setInterfaceIcon(Icons.bTNEngineeringUpgrade)
  ..setGoldCost(20)
  ..setLumberCost(360)

  destroy engineer

  new ItemBuildUnitDefinition(TlsUnitIds.BuildItemUnits.engineer)
  ..setName(g_engineerJobItemDefinition.getName())
  ..setTooltipBasic("Build " + g_engineerJobItemDefinition.getName())
  ..setTooltipExtended(g_engineerJobItemDefinition.getTooltipExtended())
  ..setDescription(g_engineerJobItemDefinition.getDescription())
  ..setGoldCost(0)
  ..setLumberCost(60)
  ..setIconGameInterface(g_engineerJobItemDefinition.getInterfaceIcon())
  ..setBuildTime(BUILD_TIME_ITEM)
  ..setButtonPositionX(1)
  ..setButtonPositionY(0)
  ..setRequirements(commaList(TlsUnitIds.headquarters1, TlsUnitIds.workshop))

// ============================================================================
init
  if (g_engineerJobItemDefinition == null)
    createObjectDefinitions()

  BuildItems.register(TlsJobItemIds.engineer, TlsUnitIds.BuildItemUnits.engineer)