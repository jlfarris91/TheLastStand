package Item_Shelter
import TlsItemDefinition
import TlsUnitDefinition
import ItemBuildUnitDefinition
import BuildItems
import GameConstants

public TlsItemDefinition g_shelterItemDefinition

// ============================================================================
@compiletime function createItem()
  g_shelterItemDefinition = new TlsItemDefinition(TlsItemIds.shelter, 'tbsm')
  ..setName("Shelter")
  ..setDescription("Constructs a Shelter at a chosen location.")
  ..setTooltipBasic("Assemble Tent")
  ..setTooltipExtended("Constructs a Shelter at a chosen location. Survivors will automatically arrive at your camp as long as you have more Shelters than Survivors. Unlike regular Shelters built by a Survivor, Portable Shelters require no food but still contribute to the total Shelter count.")
  ..setAbilities(commaList(TlsAbilityIds.buildShelter))
  ..setInterfaceIcon("ReplaceableTextures\\CommandButtons\\BTNTent.blp")
  ..setGoldCost(1)
  ..setLumberCost(40)
  ..setStockInitial(0)
  ..setStockMaximum(3)
  ..setStockStartDelay(120)
  ..setStockReplenishInterval(120)
  ..setNumberofCharges(1)
  ..build()

// ============================================================================
@compiletime function createItemBuildUnit()

  new ItemBuildUnitDefinition(TlsUnitIds.BuildItemUnits.shelter)
  ..setName(g_shelterItemDefinition.getName())
  ..setTooltipBasic("Build " + g_shelterItemDefinition.getName())
  ..setTooltipExtended(g_shelterItemDefinition.getTooltipExtended())
  ..setDescription(g_shelterItemDefinition.getDescription())
  ..setGoldCost(0)
  ..setLumberCost(30)
  ..setIconGameInterface(g_shelterItemDefinition.getInterfaceIcon())
  ..setBuildTime(BUILD_TIME_ITEM)
  ..setButtonPositionX(1)
  ..setButtonPositionY(0)
  ..setRequirements("")

// ============================================================================
init
  if (g_shelterItemDefinition == null)
    createItem()

  BuildItems.register(TlsItemIds.shelter, TlsUnitIds.BuildItemUnits.shelter)