package Classification
import ColorUtility
import ErrorHandling
import Flags

constant colorA array UNIT_CLASSIFICATION_COLORS = [
  colorA(66, 211, 255, 255), // HUMAN
  colorA(66, 66, 255, 255), // BUILDING
  colorA(189, 39, 39, 255), // MELEE
  colorA(36, 192, 36, 255), // RANGED
  colorA(163, 51, 255, 255), // MAGIC
  colorA(156, 156, 156, 255)  // WORKSTATION
]

constant string array UNIT_CLASSIFICATION_SYMBOLS = [
  "§", // HUMAN
  "¥", // BUILDING
  "¢", // MELEE
  "£", // RANGED
  "¤", // MAGIC
  "¦"  // WORKSTATION
]

constant string array UNIT_CLASSIFICATION_SYMBOLS_COLORED = [
  UNIT_CLASSIFICATION_SYMBOLS[TlsUnitClassification.HUMAN castTo int].colorize(UNIT_CLASSIFICATION_COLORS[TlsUnitClassification.HUMAN castTo int]),             // HUMAN
  UNIT_CLASSIFICATION_SYMBOLS[TlsUnitClassification.BUILDING castTo int].colorize(UNIT_CLASSIFICATION_COLORS[TlsUnitClassification.BUILDING castTo int]),       // BUILDING
  UNIT_CLASSIFICATION_SYMBOLS[TlsUnitClassification.MELEE castTo int].colorize(UNIT_CLASSIFICATION_COLORS[TlsUnitClassification.MELEE castTo int]),             // MELEE
  UNIT_CLASSIFICATION_SYMBOLS[TlsUnitClassification.RANGED castTo int].colorize(UNIT_CLASSIFICATION_COLORS[TlsUnitClassification.RANGED castTo int]),           // RANGED
  UNIT_CLASSIFICATION_SYMBOLS[TlsUnitClassification.MAGIC castTo int].colorize(UNIT_CLASSIFICATION_COLORS[TlsUnitClassification.MAGIC castTo int]),             // MAGIC
  UNIT_CLASSIFICATION_SYMBOLS[TlsUnitClassification.WORKSTATION castTo int].colorize(UNIT_CLASSIFICATION_COLORS[TlsUnitClassification.WORKSTATION castTo int])  // WORKSTATION
]

public enum TlsUnitClassification
  HUMAN
  BUILDING
  MELEE
  RANGED
  MAGIC
  WORKSTATION
  __COUNT

// ============================================================================
public function TlsUnitClassification.toString() returns string
  switch (this)
    case HUMAN
      return "Human"
    case BUILDING
      return "Building"
    case MELEE
      return "Melee"
    case RANGED
      return "Ranged"
    case MAGIC
      return "Magic"
    case WORKSTATION
      return "Workstation"
    default
      error("Invalid argument")
  return "<Unknown Classification>"

// ============================================================================
public function TlsUnitClassification.getSymbolString() returns string
  return UNIT_CLASSIFICATION_SYMBOLS[this castTo int]

// ============================================================================
public function TlsUnitClassification.getSymbolStringColored() returns string
  return UNIT_CLASSIFICATION_SYMBOLS_COLORED[this castTo int]

// ============================================================================
public function TlsUnitClassification.getSymbolColor() returns colorA
  return UNIT_CLASSIFICATION_COLORS[this castTo int]

// ============================================================================
public function int.getTlsUnitClassSymbolsColored() returns string
  var symbolString = ""
  for c in this
    symbolString += (c castTo TlsUnitClassification).getSymbolStringColored()
  return symbolString