package Unit_Camp
import AbilityIds
import ObjectIds
import UnitObjEditing
import UnitIds
import TlsUnitIds
import TlsAbilityIds
import TlsBuildingDefinition
import TlsUpgradeIds

constant int GOLD_COST = 50
constant int BUILD_TIME = 20

// ============================================================================
public class CampDefinition extends TlsBuildingDefinition
  construct(int newId)
    super(newId, UnitIds.townhall)
    setSelectionScale(4.0)
    setGroundTexture("")
    setCollisionSize(128.0)
    setLumberCost(0)
    setRepairLumberCost(0)
    setSightRadiusDay(1024)
    setSightRadiusNight(512)
    setShadowTextureBuilding("ShadowGoblinMerchant")
    setPathingMap("PathTextures\\6x6SimpleSolid.tga")
    setPlacementRequires("unbuildable,unwalkable")
    setUnitSoundSet("ScoutTower")
    setFoodProduced(0)

// ============================================================================
@compiletime function createCampUnit()
  new CampDefinition(TlsUnitIds.camp)
    ..setName("Camp")
    ..setTooltipBasic("Build Camp")
    ..setTooltipExtended("This flag marks the location of your survival camp. When placed within your camp this flag serves as a rally point for your surviors. It is also used to determine if your camp is secure and inaccessible by the undead.")
    ..setIconGameInterface("ReplaceableTextures\\CommandButtons\\BTNTent3.blp")
    ..setModelFile("buildings\\other\\Tent2\\Tent2.mdl")
    ..setScalingValue(1.2)
    ..setBuildTime(BUILD_TIME)
    ..setGoldCost(GOLD_COST)
    ..setHideMinimapDisplay(true)
    ..setHitPointsMaximumBase(250)
    ..setRepairGoldCost(10)
    ..setRepairTime(10)
    ..setResearchesAvailable(commaList(TlsUpgradeIds.rescueSurvivorUnit))
    ..setUnitsTrained("")
    ..setUpgradesTo(commaList(TlsUnitIds.campHouse))
    ..setUpgradesUsed("")
    ..setButtonPositionX(0)
    ..setButtonPositionY(0)
    
    ..setNormalAbilities(commaList(
      TlsAbilityIds.returnAbility,
      TlsAbilityIds.viewCamp,
      TlsAbilityIds.campIsNotSecure,
      TlsAbilityIds.setAlliances,
      AbilityIds.returnGoldLumber,
      AbilityIds.blightDispelLarge))

// ============================================================================
@compiletime function createCampHouse()
  new CampDefinition(TlsUnitIds.campHouse)
    ..setName("Camp House")
    ..setTooltipBasic("Upgrade to House")
    ..setTooltipExtended("This flag marks the location of your survival camp. When placed within your camp this flag serves as a rally point for your surviors. It is also used to determine if your camp is secure and inaccessible by the undead.")
    ..setIconGameInterface("ReplaceableTextures\\CommandButtons\\BTNFarm.blp")
    ..setModelFile("buildings\\human\\Farm\\Farm.mdl")
    ..setScalingValue(1.6)
    ..setBuildTime(BUILD_TIME)
    ..setGoldCost(100)
    ..setHitPointsMaximumBase(500)
    ..setRepairGoldCost(10)
    ..setRepairLumberCost(0)
    ..setRepairTime(10)
    ..setResearchesAvailable("")
    ..setUnitsTrained("")
    ..setUpgradesTo(commaList(TlsUnitIds.campHall))
    ..setUpgradesUsed("")
    ..setButtonPositionX(0)
    ..setButtonPositionY(2)
    
    ..setNormalAbilities(commaList(
      TlsAbilityIds.returnAbility,
      TlsAbilityIds.viewCamp,
      TlsAbilityIds.campIsNotSecure,
      TlsAbilityIds.setAlliances,
      AbilityIds.returnGoldLumber,
      AbilityIds.blightDispelLarge))

// ============================================================================
@compiletime function createCampHall()
  new CampDefinition(TlsUnitIds.campHall)
    ..setName("Camp Hall")
    ..setTooltipBasic("Upgrade to Hall")
    ..setTooltipExtended("This flag marks the location of your survival camp. When placed within your camp this flag serves as a rally point for your surviors. It is also used to determine if your camp is secure and inaccessible by the undead.")
    ..setIconGameInterface("ReplaceableTextures\\CommandButtons\\BTNGenericHumanBuilding1.blp")
    ..setModelFile("buildings\\other\\CityBuildingSmall45_0\\CityBuildingSmall45_0.mdl")
    ..setScalingValue(0.6)
    ..setBuildTime(BUILD_TIME)
    ..setGoldCost(100)
    ..setHideMinimapDisplay(true)
    ..setHitPointsMaximumBase(500)
    ..setRepairGoldCost(10)
    ..setRepairTime(10)
    ..setResearchesAvailable("")
    ..setUnitsTrained("")
    ..setUpgradesTo("")
    ..setUpgradesUsed("")
    ..setButtonPositionX(0)
    ..setButtonPositionY(2)
    
    ..setNormalAbilities(commaList(
      TlsAbilityIds.returnAbility,
      TlsAbilityIds.viewCamp,
      TlsAbilityIds.campIsNotSecure,
      TlsAbilityIds.setAlliances,
      AbilityIds.returnGoldLumber,
      AbilityIds.blightDispelLarge))