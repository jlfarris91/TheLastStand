package Unit_SurvivorMale
import Soundsets
import Unit_Walls
import SurvivorUnitDefinition
import TlsUpgradeIds
import TlsUnitDefinitionBuilder
import GateIds
import TlsUnitDefinition
import Units
import Icons

public SurvivorUnitDefinition g_survivorDefinition

// ============================================================================
@compiletime function createObjectDefinitions()

  g_survivorDefinition = new SurvivorUnitDefinition(TlsUnitIds.Survivors.survivorMale, UnitIds.peasant)
    ..setNormalAbilities(commaList(
      TlsAbilityIds.basicRepair,
      TlsAbilityIds.inventory2Slots,
      TlsAbilityIds.harvest))
    ..setDefaultActiveAbility(commaList(TlsAbilityIds.basicRepair))
    ..setDeathType(DeathType.CanRaiseDoesDecay)
    ..setModelFile(Units.villagerMan)
    ..setIconGameInterface(Icons.bTNVillagerMan)
    ..setIconGameInterfaceDisabled(Icons.dISBTNVillagerMan)
    ..setDefenseBase(0)
    ..setArmorType(ArmorType.Medium)
    ..setDefenseUpgradeBonus(1)
    ..setUnitSoundSet(Soundsets.peasant)
    ..setHitPointsRegenerationRate(1.0)
    ..setManaMaximum(0)
    ..setManaInitialAmount(0)
    ..setSpeedBase(250)
    ..setCollisionSize(0)
    ..setStructuresBuilt(commaList(
      TlsUnitIds.shelter1,
      TlsUnitIds.workbench,
      TlsUnitIds.campFireBuild,
      TlsUnitIds.postLantern,
      TlsUnitIds.barricade1,
      WoodFenceIds.ns,
      WoodFenceIds.nesw,
      WoodFenceIds.ew,
      WoodFenceIds.nwse,
      Gate1Ids.ns_build_closed,
      Gate1Ids.nesw_build_closed,
      Gate1Ids.ew_build_closed,
      Gate1Ids.nwse_build_closed,
      TlsUnitIds.spikes[0],
      TlsUnitIds.chest))
    ..setUpgradesUsed(commaList(TlsUpgradeIds.survivorHpBonus))
    ..setUnitClassification("Peon")
    ..setName("Survivor")
    ..addUnitClass(TlsUnitClassification.HUMAN)
    ..addUnitClass(TlsUnitClassification.MELEE)
    ..build("A basic worker unit with no assigned job. Builds basic camp structures and harvests lumber from trees.",
      tooltipBuilder -> begin
        let abilities = new TooltipItem("Abilities: ")
        ..addValue("Harvest Lumber")
        ..addValue("Repair")
        tooltipBuilder.addItem(abilities)
        let structuresBuilt = new TooltipItem("Can Build: ")
        ..addValue("Shelter")
        ..addValue("Workbench")
        ..addValue("Barricade")
        ..addValue("Spikes")
        ..addValue("Fence")
        ..addValue("Camp Fire")
        ..addValue("Post Lantern")
        ..addValue("Lumber Mill")
        tooltipBuilder.addItem(structuresBuilt)
      end)

// ============================================================================
init
  if (g_survivorDefinition == null)
    createObjectDefinitions()