package Unit_Builder
import Units
import Icons
import TlsUnitDefinition
import Unit_WoodFence
import SurvivorJobUnitDefinition
import Soundsets

public BuilderDefinition g_builderDefinition

// ============================================================================
public class BuilderDefinition extends SurvivorJobHeroDefinition

  // --------------------------------------------------------------------------
  construct(int newId)
    super(newId, UnitIds.uther)
    setName("Builder")

    art()
    hero()
    balance()

    setStructuresBuilt(commaList(
      WoodFenceIds.woodFence_NESW,
      WoodFenceIds.woodFence_NS,
      WoodFenceIds.woodFence_EW,
      WoodFenceIds.woodFence_NWSE,
      TlsUnitIds.scoutTower,
      TlsUnitIds.aidStation,
      TlsUnitIds.armory,
      TlsUnitIds.workshop))
      
    setNormalAbilities(commaList(
      TlsAbilityIds.backToCamp,
      TlsAbilityIds.repair,
      TlsAbilityIds.survivorInventory,
      TlsAbilityIds.rescueSurvivorUnit))

  // --------------------------------------------------------------------------
  private function art()
    setModelFile(Units.peasant1)
    setIconGameInterface(Icons.bTNPeasant)
    setScalingValue(1.0)
    setCollisionSize(8.0)
    setUnitSoundSet(Soundsets.peasant)

    setShadowImageCenterX(30)
    setShadowImageCenterY(30)
    setShadowImageWidth(80)
    setShadowImageHeight(80)

    setTintingColorRed(150)
    setTintingColorGreen(150)
    setTintingColorBlue(150)

  // --------------------------------------------------------------------------
  private function balance()

    setHitPointsMaximumBase(100)
    setHitPointsRegenerationRate(1.0)
    setManaMaximum(0)
    setManaInitialAmount(0)

    setAttack1CooldownTime(1.0)
    setAttack1DamageBase(10)
    setAttack1TargetsAllowed(commaList(
        TargetsAllowed.ground,
        TargetsAllowed.debris,
        TargetsAllowed.structure))

    setAttack2TargetsAllowed(commaList(TargetsAllowed.tree))
    setAttack2CooldownTime(1.0)
    setAttack2DamageBase(9999)
    
    setAttacksEnabled(2)

    setSpeedBase(200)

  // --------------------------------------------------------------------------
  private function hero()

    setPrimaryAttribute("AGI")

    setStartingStrength(5)
    setStrengthPerLevel(2)

    setStartingAgility(10)
    setAgilityPerLevel(2)

    setArmorType(ArmorType.Large)


// ============================================================================
@compiletime function createSurvivorBuilder()
  g_builderDefinition = new BuilderDefinition(TlsUnitIds.survivorBuilder)

// ============================================================================
init
  if (g_builderDefinition == null)
    createSurvivorBuilder()
    