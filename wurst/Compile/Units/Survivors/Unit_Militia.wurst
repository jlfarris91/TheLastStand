package Unit_Militia
import TlsUnitDefinition
import SurvivorJobUnitDefinition
import Units
import Icons
import Soundsets

public MilitiaDefinition g_militiaDefinition

// ============================================================================
public class MilitiaDefinition extends SurvivorJobHeroDefinition
  construct(int newId)
    super(newId, UnitIds.paladin)
    abilities()
    art()
    combat()
    stats()
    text()

  // --------------------------------------------------------------------------
  private function abilities()    

    setNormalAbilities(commaList(
      TlsAbilityIds.backToCamp,
      TlsAbilityIds.survivorInventory))

  // --------------------------------------------------------------------------
  private function art()

    setAnimationBlendTimeseconds(0.15)
    setAnimationCastBackswing(0.510)
    setAnimationCastPoint(0.3)
    setAnimationRunSpeed(270.0)
    setAnimationWalkSpeed(270.0)
    setDeathTimeseconds(3.34)
    setElevationSamplePoints(0)
    setElevationSampleRadius(20.0)
    setModelFile(Units.militia)
    setIconGameInterface(Icons.bTNMilitia)
    setScalingValue(1.0)
    setSelectionScale(1.0)

    setShadowImageCenterX(30)
    setShadowImageCenterY(30)
    setShadowImageWidth(80)
    setShadowImageHeight(80)

    setUnitSoundSet(Soundsets.peasant)

  // --------------------------------------------------------------------------
  private function combat()   

    setAcquisitionRange(500.0)
    setArmorSoundType(ArmorSoundType.Flesh)

    setAttack1AnimationBackswingPoint(0.440)
    setAttack1AnimationDamagePoint(0.390)
    setAttack1AreaofEffectFullDamage(0)
    setAttack1AreaofEffectMediumDamage(0)
    setAttack1AreaofEffectSmallDamage(0)
    setAttack1AreaofEffectTargets("_")
    setAttack1AttackType(AttackType.Pierce)
    setAttack1CooldownTime(1.5)
    setAttack1DamageBase(20)
    setAttack1DamageFactorMedium(0)
    setAttack1DamageFactorSmall(0)
    setAttack1DamageLossFactor(0)
    setAttack1DamageNumberofDice(2)
    setAttack1DamageSidesperDie(6)
    setAttack1DamageSpillDistance(0)
    setAttack1DamageSpillRadius(0)
    setAttack1DamageUpgradeAmount(0)
    setAttack1MaximumNumberofTargets(1)
    setAttack1ProjectileArc(0)
    setAttack1ProjectileArt("")
    setAttack1ProjectileHomingEnabled(false)
    setAttack1ProjectileSpeed(0)
    setAttack1Range(180)
    setAttack1RangeMotionBuffer(250.0)
    setAttack1ShowUI(true)
    setAttack1TargetsAllowed(commaList(
      TargetsAllowed.air,
      TargetsAllowed.debris,
      TargetsAllowed.ground,
      TargetsAllowed.structure,
      TargetsAllowed.ward))
    setAttack1WeaponSound(WeaponSound.MetalMediumSlice)
    setAttack1WeaponType(WeaponType.Normal)
    
    setAttacksEnabled(1)
    setDeathType(4)
    setDefenseBase(0)
    setArmorType(ArmorType.Large)
    setDefenseUpgradeBonus(2)
    setMinimumAttackRange(0)
    setTargetedAs("ground")

  // --------------------------------------------------------------------------
  private function stats()
    setSpeedBase(200)

    setHitPointsMaximumBase(100)
    setManaInitialAmount(0)
    setManaMaximum(0)

    setPrimaryAttribute("STR")

    setStartingStrength(10)
    setStrengthPerLevel(2)

    setStartingAgility(5)
    setAgilityPerLevel(1)

  // --------------------------------------------------------------------------
  private function text()
    setName("Militia")

// ============================================================================
@compiletime function createUnit()
  g_militiaDefinition = new MilitiaDefinition(TlsUnitIds.survivorMilitia)

// ============================================================================
init
  if (g_militiaDefinition == null)
    createUnit()