package Hero_Scout
import HeroBaseDefinition
import TlsUnitDefinition
import AbilityIds
import HeroAbilities
import TlsUnitDefinitionBuilder
import TlsUpgradeIds
import Icons
import Range
import Abilities

public HeroBaseDefinition g_heroScoutDefinition

// ============================================================================
@compiletime function createObjectDefinitions()

  if (compiletime)
    setupHeroAbilities()

  g_heroScoutDefinition = new HeroBaseDefinition(TlsUnitIds.heroScout, UnitIds.rifleman)

    ..setHeroAbilities(HeroAbilities.scout.getHeroAbilitiesDefinitionString())

    ..setNormalAbilities(commaList(
      TlsAbilityIds.heroActions,
      TlsAbilityIds.search,
      TlsAbilityIds.rescueSurvivorHero,
      AbilityIds.inventory))

    // Art
    ..setModelFile("units\\scout\\scout.mdl")
    ..setIconGameInterface(Icons.bTNRifleman)
    ..setSelectionScale(1.0)
    ..setScalingValue(1.3)
    ..setTintingColorRed(150)
    ..setTintingColorGreen(150)
    ..setTintingColorBlue(150)

    // Combat
    ..setArmorSoundType(ArmorSoundType.Flesh)

    ..setAcquisitionRange(1600)

    ..setAttack1AnimationBackswingPoint(0.700)
    ..setAttack1AnimationDamagePoint(0.170)
    ..setAttack1AreaofEffectFullDamage(0)
    ..setAttack1AreaofEffectMediumDamage(0)
    ..setAttack1AreaofEffectSmallDamage(0)
    ..setAttack1AreaofEffectTargets("_")
    ..setAttack1AttackType(AttackType.Pierce)
    ..setAttack1CooldownTime(2.5)
    ..setAttack1DamageBase(250)
    ..setAttack1DamageFactorMedium(0)
    ..setAttack1DamageFactorSmall(0)
    ..setAttack1DamageLossFactor(0)
    ..setAttack1DamageSpillDistance(0)
    ..setAttack1DamageSpillRadius(0)
    ..setAttack1DamageUpgradeAmount(0)
    ..setAttack1MaximumNumberofTargets(1)
    ..setAttack1DamageRange(rangeInt(60, 70))
    ..setAttack1ProjectileArc(0)
    ..setAttack1ProjectileArt(Abilities.wardenMissile)
    ..setAttack1ProjectileHomingEnabled(false)
    ..setAttack1ProjectileSpeed(3000)
    ..setAttack1Range(1600)
    ..setAttack1RangeMotionBuffer(250.0)
    ..setAttack1ShowUI(true)
    ..setAttack1TargetsAllowed(commaList(
      TargetsAllowed.air,
      TargetsAllowed.debris,
      TargetsAllowed.ground,
      TargetsAllowed.structure,
      TargetsAllowed.ward))
    ..setAttack1WeaponSound(WeaponSound.Nothing)
    ..setAttack1WeaponType(WeaponType.Missile)

    ..setAttacksEnabled(1)

    ..setDefenseBase(5)
    ..setArmorType(ArmorType.Medium)
    ..setDefenseUpgradeBonus(1)

    // Movement
    ..setSpeedBase(300)

    // Sound
    ..setUnitSoundSet("Proudmore")

    // Stats
    ..setHitPointsMaximumBase(300)
    ..setHitPointsRegenerationRate(0.5)
    ..setManaInitialAmount(100)
    ..setManaMaximum(100)
    ..setManaRegeneration(1)
    ..setPrimaryAttribute("AGI")
    ..setStartingStrength(12)
    ..setStrengthPerLevel(6)
    ..setStartingAgility(22)
    ..setAgilityPerLevel(12)
    ..setStartingIntelligence(16)
    ..setIntelligencePerLevel(3)
    
    ..setSightRadiusDay(1200)
    ..setSightRadiusNight(800)

    // Techtree
    ..setUpgradesUsed(commaList(TlsUpgradeIds.survivorHpBonus))

    // Text
    ..setName("Scout")
    ..setTooltipRevive("Revive Scout")

    // Misc
    ..addUnitClass(TlsUnitClassification.HUMAN)
    ..addUnitClass(TlsUnitClassification.RANGED)
    ..build("", null)

// ============================================================================
init
  if (g_heroScoutDefinition == null)
    createObjectDefinitions()