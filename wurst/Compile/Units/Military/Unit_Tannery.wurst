package Unit_Tannery
import TlsBuildingDefinition
import GameConstants
import Buildings
import TlsUpgradeIds
import BuildingUndeadTarget

public TlsBuildingDefinition g_tanneryDefinition

// ============================================================================
@compiletime function createObjectDefinitions()
  g_tanneryDefinition = new TlsBuildingDefinition(TlsUnitIds.tannery, UnitIds.scouttower)

    ..setNormalAbilities(commaList(
      TlsAbilityIds.buildingInventory,
      TlsAbilityIds.recycle))

    ..setButtonPositionX(2)
    ..setButtonPositionY(1)
    ..setGroundTexture("HSMA")
    ..setIconGameInterface("ReplaceableTextures\\CommandButtons\\BTNCentaurTent2.blp")
    ..setModelFile(Buildings.centaurTent1)
    ..setSelectionScale(3.2)
    ..setShadowTextureBuilding("")
    ..setTintingColorRed(150)
    ..setTintingColorBlue(150)
    ..setTintingColorGreen(150)

    ..setArmorType(ArmorType.Fortified)
    ..setDeathType(DeathType.CannotRaiseDoesNotDecay)
    ..setDefenseBase(0)

    ..setCollisionSize(32.0)
    ..setPathingMap(BUILDING_MEDIUM_PATH_MAP)
    ..setPlacementRequires("unbuildable,unwalkable")

    ..setBuildTime(BUILD_TIME_BUILDING_MEDIUM)
    ..setRepairTime(REPAIR_TIME_BUILDING_MEDIUM)
    ..setSightRadiusDay(STRUCTURE_MEDIUM_SIGHT_RANGE_DAY)
    ..setSightRadiusNight(STRUCTURE_MEDIUM_SIGHT_RANGE_NIGHT)
    ..setCanFlee(false)
    ..setHideMinimapDisplay(true)
    ..setHitPointsMaximumBase(500)
    ..setHitPointsRegenerationType("_")

    ..setGoldCost(0)
    ..setLumberCost(500)

    ..setUpgradesUsed(commaList(TlsUpgradeIds.campDefense))
    ..setUpgradesTo("")
    ..setRequirements("")
    ..setUnitsTrained(commaList(
      TlsUnitIds.BuildItemUnits.armor1,
      TlsUnitIds.BuildItemUnits.armor2
    ))
    ..setResearchesAvailable(commaList(
      TlsUpgradeIds.leatherArmor,
      TlsAbilityIds.buildingInventory))

    ..setName("Tannery")
    ..setTooltipBasic("Build Tannery")
    ..setTooltipExtended("The Tannery constructs Leather Armor items and provides research to increase the armor of Builders, Militia, Spearmen, Assassins and Marksmen.|n|cffffcc00Can build Leather Armor and Reinforced Leather Armor.|r")
    ..setDescription("")
    
    ..makeBuildingUndeadTarget()
    ..setCommonBuildingProperties()

// ============================================================================
init
  if (g_tanneryDefinition == null)
    createObjectDefinitions()