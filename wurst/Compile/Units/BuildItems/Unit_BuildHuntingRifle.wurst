package Unit_BuildHuntingRifle
import TlsUnitDefinition
import UnitIndexer
import MainItemLibrary
import TlsItemIds
import ItemBuildUnitDefinition
import Item_HuntingRifle

// ============================================================================
@compiletime function createItemBuildUnit()

  new ItemBuildUnitDefinition(TlsUnitIds.BuildItemUnits.buildHuntingRifle)
  ..setName(g_huntingRifleDefinition.getName())
  ..setTooltipBasic("Build " + g_huntingRifleDefinition.getName())
  ..setTooltipExtended(g_huntingRifleDefinition.getTooltipExtended())
  ..setDescription(g_huntingRifleDefinition.getDescription())
  ..setGoldCost(0)
  ..setLumberCost(50)
  ..setIconGameInterface(g_huntingRifleDefinition.getInterfaceIcon())
  ..setBuildTime(15)
  ..setButtonPositionX(2)
  ..setButtonPositionY(0)
  ..setRequirements(commaList(TlsUnitIds.campHall))

// ============================================================================
function onUnitIndexed()
  let indexedUnit = getIndexingUnit()
  if (indexedUnit.getTypeId() != TlsUnitIds.BuildItemUnits.buildHuntingRifle)
    return

  let pos = indexedUnit.getPos()
  indexedUnit.remove()
  g_MainItemLibrary.createItem(TlsItemIds.huntingRifle, pos)

// ============================================================================
init
  onUnitIndex(function onUnitIndexed)