package Unit_Lamp
import UnitObjEditing
import TlsUnitIds
import UnitIds
import TlsAbilityIds
import ObjectIds
import Doodads
import TlsUpgradeIds
import TlsBuildingDefinition

// ============================================================================
class LampDefinition extends TlsBuildingDefinition
  construct(int id)
    super(id, UnitIds.scouttower)
    setName("Lamp")
    setTooltipBasic("Build Street |cffffcc00L|ramp")
    setTooltipExtended("A street lamp that gives off a radius of light. Requires a Generator nearby to function.")
    setHotkey("L")
    setRace(Race.Human)
    setButtonPositionX(2)
    setButtonPositionY(0)
    setDeathTimeseconds(2.67)
    setGroundTexture("")
    setIconGameInterface("ReplaceableTextures\\CommandButtons\\BTNLampPost.blp")
    setScalingValue(1.0)
    setShadowTextureBuilding("")
    setDeathType(0) // can't raise, doesn't decay
    setTargetedAs("ground")
    setMovementHeight(-25.0)
    setMovementHeightMinimum(-25.0)
    setCollisionSize(0.0)
    setPathingMap("PathTextures\\Lamp.tga")
    setPlacementRequires("unbuildable,unwalkable")
    setBuildTime(10)
    setHideMinimapDisplay(true)
    setHitPointsMaximumBase(50)
    setGoldCost(5)
    setMaterialCost(5)
    setRepairTime(3)
    setRepairGoldCost(0)
    setRepairLumberCost(1)
    setUpgradesTo("")
    setUpgradesUsed("")
    setRequirements(commaList(TlsUnitIds.camp, TlsUpgradeIds.blueprintsLamp))
    
// ============================================================================
@compiletime function createLampPowered()
  new LampDefinition(TlsUnitIds.lampPowered)
    ..setNameEditorSuffix("(Powered)")
    ..setSightRadiusDay(512)
    ..setSightRadiusNight(512)
    ..setNormalAbilities(commaList(TlsAbilityIds.poweredMechanical, TlsAbilityIds.recycle))
    ..setModelFile(Doodads.lanternPost)

// ============================================================================
@compiletime function createLampUnpowered()
  new LampDefinition(TlsUnitIds.lampUnpowered)
    ..setNameEditorSuffix("(Unpowered)")
    ..setSightRadiusDay(128)
    ..setSightRadiusNight(128)
    ..setNormalAbilities(commaList(TlsAbilityIds.unpoweredMechanical, TlsAbilityIds.recycle))
    ..setModelFile("Units\\Lamp\\LanternPostOff.mdl")