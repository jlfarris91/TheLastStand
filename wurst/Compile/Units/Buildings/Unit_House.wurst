package Unit_House
import UnitObjEditing
import TlsUnitIds
import UnitIds
import TlsAbilityIds
import ObjectIds
import Doodads
import TlsUpgradeIds
import Icons
import TlsBuildingDefinition
import GameConstants

public TlsBuildingDefinition g_housePoweredDefinition
public TlsBuildingDefinition g_houseUnpoweredDefinition

// ============================================================================
class HouseDefinition extends TlsBuildingDefinition
  construct(int id)
    super(id, UnitIds.tent)
    setName("House")
    setTooltipBasic("Build |cffffcc00H|rouse")
    setTooltipExtended("A house that houses up to 4 people and can protect from all kinds of bad weather. Requires a Generator nearby to function.")
    setHotkey("H")
    setRace(Race.Human)
    setButtonPositionX(1)
    setButtonPositionY(0)
    setDeathTimeseconds(2.33)
    setGroundTexture("")
    setIconGameInterface(Icons.bTNFarm)
    setModelFile(Doodads.villageBuilding0)
    setScalingValue(0.75)
    setSelectionScale(2.5)
    setShadowTextureBuilding("")
    setDeathType(DeathType.CannotRaiseDoesNotDecay)
    setCategorizationSpecial(false)
    setPathingMap("PathTextures\\Tent.tga")
    setPlacementRequires("unbuildable,unwalkable")
    setBuildTime(30)
    setHideMinimapDisplay(true)
    setHitPointsMaximumBase(250)
    setRepairTime(10)
    setUpgradesTo("")
    setUpgradesUsed("")
    setRequirements(commaList(TlsUnitIds.campHouse, TlsUpgradeIds.blueprintsHouse))

    setGoldCost(25)
    setMaterialCost(150)
    setRepairGoldCost(R2I(getGoldCost() * BUILDING_REPAIR_GOLD_SCALAR))
    setRepairLumberCost(R2I(getLumberCost() * BUILDING_REPAIR_LUMBER_SCALAR))
    setRecycleGoldRewarded(getGoldCost())
    setRecycleLumberRewarded(getLumberCost())

// ============================================================================
@compiletime function createHousePowered()
  g_housePoweredDefinition = new HouseDefinition(TlsUnitIds.housePowered)
    ..setNameEditorSuffix("(Powered)")
    ..setSightRadiusDay(512)
    ..setSightRadiusNight(512)
    ..setNormalAbilities(commaList(
        TlsAbilityIds.tentLoad,
        TlsAbilityIds.tentUnload,
        TlsAbilityIds.houseCargoHold,
        TlsAbilityIds.poweredMechanical,
        TlsAbilityIds.recycle))
    ..setFoodProduced(4)

// ============================================================================
@compiletime function createHouseUnpowered()
  g_houseUnpoweredDefinition = new HouseDefinition(TlsUnitIds.houseUnpowered)
    ..setNameEditorSuffix("(Unpowered)")
    ..setSightRadiusDay(128)
    ..setSightRadiusNight(128)
    ..setTintingColorRed(100)
    ..setTintingColorGreen(100)
    ..setTintingColorBlue(100)
    ..setNormalAbilities(commaList(
        TlsAbilityIds.tentLoad,
        TlsAbilityIds.tentUnload,
        TlsAbilityIds.houseCargoHold,
        TlsAbilityIds.unpoweredMechanical,
        TlsAbilityIds.recycle))
    ..setFoodProduced(0)

// ============================================================================
init
  if (g_housePoweredDefinition == null)
    createHousePowered()
  if (g_houseUnpoweredDefinition == null)
    createHouseUnpowered()