package SpawnWaveDefinition
import IProgress
import WaveActivator
import ISpawnPointProvider
import IUnitTypeProvider
import Func
import FunctionalField

// ============================================================================
public class SpawnWaveDefinition
  private IProgress m_progress
  private IWaveActivator m_activator
  private ISpawnPointProvider m_spawnPointProvider
  private IUnitTypeProvider m_unitTypeProvider
  private Func1<real, int> m_maxAliveCount
  private Func1<real, int> m_maxSpawnCount
  private Func1<real, int> m_spawnsPerActivation
  private Func1<real, real> m_spawnGroupingFactor
  private IFunctionalUnitModifier m_unitModifier

  // --------------------------------------------------------------------------
  ondestroy
    if (m_progress != null)
      destroy m_progress
      m_progress = null

    if (m_activator != null)
      destroy m_activator
      m_activator = null

    if (m_spawnPointProvider != null)
      destroy m_spawnPointProvider
      m_spawnPointProvider = null

    if (m_unitTypeProvider != null)
      destroy m_unitTypeProvider
      m_unitTypeProvider = null

    if (m_maxAliveCount != null)
      destroy m_maxAliveCount
      m_maxAliveCount = null

    if (m_maxSpawnCount != null)
      destroy m_maxSpawnCount
      m_maxSpawnCount = null

    if (m_spawnsPerActivation != null)
      destroy m_spawnsPerActivation
      m_spawnsPerActivation = null

    if (m_spawnGroupingFactor != null)
      destroy m_spawnGroupingFactor
      m_spawnGroupingFactor = null

    if (m_unitModifier != null)
      destroy m_unitModifier
      m_unitModifier = null

  // --------------------------------------------------------------------------
  function setProgress(IProgress progress)
    m_progress = progress

  // --------------------------------------------------------------------------
  function getProgress() returns IProgress
    return m_progress

  // --------------------------------------------------------------------------
  function setActivator(IWaveActivator activator)
    m_activator = activator

  // --------------------------------------------------------------------------
  function getActivator() returns IWaveActivator
    return m_activator

  // --------------------------------------------------------------------------
  function setSpawnPointProvider(ISpawnPointProvider spawnPointProvider)
    m_spawnPointProvider = spawnPointProvider

  // --------------------------------------------------------------------------
  function getSpawnPointProvider() returns ISpawnPointProvider
    return m_spawnPointProvider

  // --------------------------------------------------------------------------
  function setUnitTypeProvider(IUnitTypeProvider unitTypeProvider)
    m_unitTypeProvider = unitTypeProvider

  // --------------------------------------------------------------------------
  function getUnitTypeProvider() returns IUnitTypeProvider
    return m_unitTypeProvider

  // --------------------------------------------------------------------------
  function setMaxAliveCount(Func1<real, int> value)
    m_maxAliveCount = value

  // --------------------------------------------------------------------------
  function getMaxAliveCount() returns Func1<real, int>
    return m_maxAliveCount

  // --------------------------------------------------------------------------
  function setMaxSpawnCount(Func1<real, int> value)
    m_maxSpawnCount = value

  // --------------------------------------------------------------------------
  function getMaxSpawnCount() returns Func1<real, int>
    return m_maxSpawnCount

  // --------------------------------------------------------------------------
  function getSpawnsPerActivation() returns Func1<real, int>
    return m_spawnsPerActivation

  // --------------------------------------------------------------------------
  function setSpawnsPerActivation(Func1<real, int> value)
    m_spawnsPerActivation = value

  // --------------------------------------------------------------------------
  function getSpawnGroupingFactor() returns Func1<real, real>
    return m_spawnGroupingFactor

  // --------------------------------------------------------------------------
  function setSpawnGroupingFactor(Func1<real, real> value)
    m_spawnGroupingFactor = value

  // --------------------------------------------------------------------------
  function getUnitModifier() returns IFunctionalUnitModifier
    return m_unitModifier

  // --------------------------------------------------------------------------
  function setUnitModifier(IFunctionalUnitModifier value)
    m_unitModifier = value
