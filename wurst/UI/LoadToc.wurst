package LoadToc

bool g_tocLoadedSuccessfully = false

// ============================================================================
public function ensureTocIsLoaded()  
  if (g_tocLoadedSuccessfully)
    return

  Log.debug("Loading frame definitions...")

  g_tocLoadedSuccessfully = true
  g_tocLoadedSuccessfully = tryLoadTOCFile("Inspector.toc") and g_tocLoadedSuccessfully
  g_tocLoadedSuccessfully = tryLoadTOCFile("TLSFrames.toc") and g_tocLoadedSuccessfully
  g_tocLoadedSuccessfully = tryLoadTOCFile("ui\\wpf\\wpf.toc") and g_tocLoadedSuccessfully

// ============================================================================
function tryLoadTOCFile(string fileName) returns bool

  if loadTOCFile(fileName) == false
    Log.error("Something went wrong when loading frame definition file " + fileName)
    return false

  Log.debug("Loaded frame definition file " + fileName + " successfully")
  return true

// ============================================================================
init
  ensureTocIsLoaded()