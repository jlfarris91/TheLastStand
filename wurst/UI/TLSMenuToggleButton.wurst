package TLSMenuToggleButton
import TLSMenuButton

// ============================================================================
public class TLSMenuToggleButton extends TLSMenuButton
  protected bool m_checked

  // --------------------------------------------------------------------------
  construct(string frameName)
    super(frameName)

  // --------------------------------------------------------------------------
  function getIsChecked() returns bool
    return m_checked

  // --------------------------------------------------------------------------
  function setIsChecked(bool checked)
    if (m_checked != checked)
      m_checked = checked
      if (m_checked)
        onChecked()
      else
        onUnchecked()

  // --------------------------------------------------------------------------
  protected override function onClicked()
    super.onClicked()
    setIsChecked(not getIsChecked())

  // --------------------------------------------------------------------------
  protected override function onMouseLeave()
    if (not getIsChecked())
      m_highlightFrame.hide()

  // --------------------------------------------------------------------------
  protected function onChecked()
    m_pushedBackdropFrame.show(getPlayer())
    m_highlightFrame.show(getPlayer())

  // --------------------------------------------------------------------------
  protected function onUnchecked()
    m_pushedBackdropFrame.hide()
    m_highlightFrame.hide()