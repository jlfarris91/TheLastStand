package ActionUnitTypeProvider
import Action
import Spawning

// ============================================================================
public class ActionUnitTypeProvider implements ITieredUnitTypeProvider
  private Action3<SpawnContext, int, TieredUnitTypeCollection> m_action

  // --------------------------------------------------------------------------
  construct(Action3<SpawnContext, int, TieredUnitTypeCollection> func)
    m_action = func.acquire()

  // --------------------------------------------------------------------------
  ondestroy
    m_action.release()
    m_action = null

  // --------------------------------------------------------------------------
  override function getUnitTypes(SpawnContext context, int count, TieredUnitTypeCollection output)
    m_action.call(context, count, output)